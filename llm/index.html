<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Chat UI Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap 5 CSS (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Chat styles -->
  <link href="css/chat.razor.css" rel="stylesheet" />
</head>
<body>
  <div class="chat-wrapper container-fluid container-md py-2">
    <!-- Header -->
    <div class="d-flex align-items-center gap-2">
      <div class="flex-grow-1">
        <h5 class="mb-0">Assistant</h5>
        <small class="text-muted">Ask a question or pick an option</small>
      </div>
      <div class="d-flex gap-2">
        <button id="btnOpenSecret" class="btn btn-outline-secondary btn-sm" type="button" title="Open secret modal">
          Secret
        </button>
        <button id="btnOpenSelection" class="btn btn-outline-secondary btn-sm" type="button" title="Open selection modal">
          Select
        </button>
      </div>
    </div>

    <!-- Messages (only this area scrolls) -->
    <div id="chatMessages" class="chat-messages"></div>

    <!-- Quick Options -->
    <div id="quickOptions" class="quick-options"></div>

    <!-- Input form -->
    <form id="chatForm" class="chat-input">
      <div class="d-flex align-items-start gap-2">
        <label for="fileInput" class="btn btn-outline-secondary" title="Attach files">Attach</label>
        <input id="fileInput" class="d-none" type="file" multiple />
        <textarea id="userInput" class="form-control" rows="1" placeholder="Type your message"></textarea>
        <button id="sendBtn" class="btn btn-primary" type="submit" title="Send">Send</button>
      </div>
      <div id="attachments" class="mt-2 d-flex flex-wrap"></div>
    </form>
  </div>

  <!-- Secret Modal -->
  <div id="secretModal" class="modal fade" tabindex="-1" role="dialog" aria-modal="true" aria-labelledby="secretModalTitle" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title" id="secretModalTitle">Provide Secret Information</h6>
          <button id="secretCloseX" type="button" class="btn-close" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-2">
            <label class="form-label" for="secretLabel">Label</label>
            <input id="secretLabel" class="form-control" placeholder="e.g., API Key" />
          </div>
          <div>
            <label class="form-label" for="secretValue">Value</label>
            <input id="secretValue" class="form-control" type="password" placeholder="Enter secret" />
            <div class="form-text">Values are not persisted in this demo.</div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="secretCancelBtn" class="btn btn-outline-secondary" type="button">Cancel</button>
          <button id="secretSaveBtn" class="btn btn-primary" type="button">Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Selection Modal -->
  <div id="selectionModal" class="modal fade" tabindex="-1" role="dialog" aria-modal="true" aria-labelledby="selectionModalTitle" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h6 class="modal-title" id="selectionModalTitle">Make a Selection</h6>
          <button id="selectionCloseX" type="button" class="btn-close" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label" for="categorySelect">Category</label>
            <select id="categorySelect" class="form-select">
              <option value="General">General</option>
              <option value="Billing">Billing</option>
              <option value="Technical">Technical</option>
            </select>
          </div>
          <div class="mb-1">
            <label class="form-label d-block">Priority</label>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="prio-low" name="priority" value="Low">
              <label class="form-check-label" for="prio-low">Low</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="prio-normal" name="priority" value="Normal" checked>
              <label class="form-check-label" for="prio-normal">Normal</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" id="prio-high" name="priority" value="High">
              <label class="form-check-label" for="prio-high">High</label>
            </div>
          </div>
          <div class="form-text">These are just example controls. Hook them into your flow as needed.</div>
        </div>
        <div class="modal-footer">
          <button id="selectionCancelBtn" class="btn btn-outline-secondary" type="button">Cancel</button>
          <button id="selectionSaveBtn" class="btn btn-primary" type="button">Save</button>
        </div>
      </div>
    </div>
  </div>

  <!-- App script -->
  <script src="js/chat.razor.js"></script>
</body>
</html>